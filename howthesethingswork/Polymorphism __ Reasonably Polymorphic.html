<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0056)https://reasonablypolymorphic.com/book/polymorphism.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <title>Polymorphism :: Reasonably Polymorphic</title>
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <link href="https://reasonablypolymorphic.com/atom.xml" rel="alternate" title="Reasonably Polymorphic - Atom" type="application/atom+xml">
        <link href="https://reasonablypolymorphic.com/feed.rss" rel="alternate" title="Reasonably Polymorphic - RSS" type="application/rss+xml">

        <link href="./Polymorphism __ Reasonably Polymorphic_files/css" rel="stylesheet" type="text/css">
        <link href="./Polymorphism __ Reasonably Polymorphic_files/style.css" type="text/css" rel="stylesheet">
        <link href="./Polymorphism __ Reasonably Polymorphic_files/syntax.css" type="text/css" rel="stylesheet">

        <script async="" src="./Polymorphism __ Reasonably Polymorphic_files/analytics.js"></script><script type="text/javascript" src="./Polymorphism __ Reasonably Polymorphic_files/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="./Polymorphism __ Reasonably Polymorphic_files/baseline.js"></script>
        <script type="text/x-mathjax-config;executed=true">
            MathJax.Hub.Config({
                    "HTML-CSS": {
                        scale: 50
                    },
  TeX: {extensions: [ "AMSmath.js"
                    , "AMSsymbols.js"
                    , "color.js"
                    , "http://sonoisa.github.io/xyjax_ext/xypic.js"
                    ]}
            });
        </script>
        <script src="./Polymorphism __ Reasonably Polymorphic_files/MathJax.js" id=""></script>
          <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76834556-1', 'auto');
  ga('send', 'pageview');
  </script>

        <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax_LineBox {display: table!important}
.MathJax_LineBox span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
        <body><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>

<div class="column">
    <article>
<header>
    <h1><a href="https://reasonablypolymorphic.com/book/polymorphism">Polymorphism</a></h1>
</header>
<p class="meta">
    
    <span class="prev">
        <a href="https://reasonablypolymorphic.com/book/more-types">←</a>
    </span>
    
    
    <span class="next">
        <a href="https://reasonablypolymorphic.com/book/back-in-business">→</a>
    </span>
    
    <time>November 16, 2016</time>
    
        <span class="tags">
        
        </span>
    
</p>
<div class="content">
    <p>In the last chapter, we discussed some constructions on types, namely the <em>product</em>, <em>sum</em>, as well as two particular types <code>Unit</code> and <code>Void</code>. A <em>product</em> type was equivalent for asking for <em>both</em> types, while a <em>sum</em> type was equivalent to asking for <em>either</em> type. We saw that <code>Unit</code>, when combined with a <em>product</em> did nothing (because you always have one if you need it), and we saw the same thing when combining <code>Void</code> in a <em>sum</em> type (because you can never have one, by definition).</p>
<p>Today, we want to cover the last thing we’ll need in our typesystem for quite some time, and that’s a more general notion of what it means for something to be <em>polymorphic</em>. Recall that when we were discussing multiwires, our annotations could be <em>polymorphic</em>, which was understood to mean, “we don’t really care what shape wire you try to plug into here.”</p>
<p>Such a thing proved to be a useful notion – it allowed us to build machines like <code>Snap*</code> and <code>Demux</code> – machines which performed a “semantic” operation in the sense of “doing something useful for our purposes”. They were abstract enough that we didn’t really <em>care</em> what the low-level inputs and outputs were, because we were using these machines to serve a particular purpose we had in mind. Because we knew how to create a device which would take a snapshot of 2 wires, and one which would take a snapshot of 3 wires, and one which would take a snapshot of 4 wires, and so on and so forth, we could bundle all of that knowledge up into one “schema” diagram and give you instructions for building a machine that would take a snapshot of however many wires you so desired. Instead of giving you machines for building circuits directly, we were giving you blueprints to build machines to build circuits.</p>
<p>By discussing a <em>less</em> specific (polymorphic) machine, we found that we actually had a <em>more</em> useful tool to work with. Because it was less specific, it worked in more situations, at the expense of making us think a little harder about what it all means. This strikes me as being a fantastic trade-off, because it’s sort of the definition of “work smarter, not harder”. We spent some time looking at patterns in the things we were painstakingly building, and we came up with a better way of doing it. It saved us effort in the long run, which saved us time, which not only is money, but also time that you now have to reinvest in making smarter tools to save more time to make more money to invest harder in all of this stuff.</p>
<p>Deliciously vicious!</p>
<h2 id="value-polymorphism">Value Polymorphism</h2>
<p>There are two (related) kinds of polymorphism we need to discuss in this chapter. The first, for lack of a better term, we will call <em>value-level polymorphism</em>, which is the kind of polymorphism we are familiar with from our experiences with multiwires.</p>
<p>An example of this was in our <code>Snap*</code> machine, which you might remember looked like this:</p>
<p><img src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;%0A&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;%0A    &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;300.0000&quot; stroke-opacity=&quot;1&quot; viewBox=&quot;0 0 624 300&quot; font-size=&quot;1&quot; width=&quot;624.0000&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; stroke=&quot;rgb(0,0,0)&quot; version=&quot;1.1&quot;&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;32.87671232876713px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,312.0000,272.6027)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Snap*&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;3.984903016987305&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 521.8630,217.8082 l -0.0000,-190.4110 h -419.7260 l -0.0000,190.4110 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 140.4932,150.6849 h 54.7945 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.917808219178085px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,140.4932,128.7671)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 85.6986,150.6849 h 54.7945 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;54.79452054794521px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,85.6986,151.0137)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 74.7397,95.8904 h 120.5479 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.917808219178085px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,549.2603,101.3699)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 494.4658,123.2877 h 54.7945 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;54.79452054794521px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,494.4658,123.6164)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;32.87671232876713px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,365.6986,123.2877)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Snap&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.917808219178085px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,458.8493,123.2877)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Q&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.917808219178085px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,272.5479,150.6849)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;V&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.917808219178085px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,272.5479,95.8904)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;S&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 480.7671,86.3014 l -0.0000,73.9726 h -230.1370 l -0.0000,-73.9726 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;54.79452054794521px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,236.3836,151.0137)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;{&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 195.2877,150.6849 h 41.0959 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.593961206794922&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 195.2877,95.8904 h 54.7945 &quot;/&gt;&lt;/g&gt;&lt;/svg&gt;" id="snap_nybble" class="circuit"></p>
<p>An earnest (if naive) attempt to encode this machine as a symbolic computation might look something like this:</p>
<pre><code>snap* : Bool -&gt; n -&gt; n</code></pre>
<p>Here, <code>snap*</code> has no opinion on what type <code>n</code> must be, other than that the input to this machine <em>sure as hell</em> better be the same as the output of this machine.</p>
<p>How do we know that <code>n</code> is polymorphic, here? Well, we decide by fiat (and a matter of convention) that <em>any “type” which starts with a lowercase letter is polymorphic</em>. That means <code>n</code>, <code>z</code>, <code>cat</code>, <code>machinery</code> and <code>zzyzxyz</code> are all polymorphic types, and moreover, if we had a machine:</p>
<pre><code>silly : n -&gt; z -&gt; cat -&gt; machinery -&gt; zzyzxyz</code></pre>
<p>we’d know that all of these polymorphic types <em>could</em> (but <em>need not</em>) be different types. Recall that if a single machine refers to the same polymorphic type more than once, we must use the <em>same</em> type to fill in all of the “holes” for that polymorphic type.</p>
<p>With that one rule in mind, we can substitute types at will into <code>silly</code>. The following are both valid type signatures for <code>silly</code>:</p>
<ul>
<li><code>silly : Void -&gt; Unit -&gt; Bool -&gt; Strange -&gt; Something</code></li>
<li><code>silly : Unit -&gt; Unit -&gt; Unit -&gt; Unit -&gt; Unit</code></li>
</ul>
<p>Of course, there are infinity different ways you could fill in these polymorphic types, so this is not an exhaustive list. Go nuts!</p>
<p>These things we’ve been referring to as “polymorphic types” are more often known as <strong>type variables</strong>. <code>t</code> is a type variable, and it is distinct from <code>x</code>. Furthermore the type variable <code>t</code> is distinct from <em>all other</em> type variables that are not named <code>t</code>. This argument holds in generality, for any name you can think of to call your type variable.</p>
<p>Just so we really and truly drive the point home, given a machine with polymorphic type variables:</p>
<pre><code>odd : a -&gt; a</code></pre>
<p>then it’s perfectly fine to “instantiate” <code>odd</code> with the following signatures:</p>
<ul>
<li><code>odd : Bool -&gt; Bool</code></li>
<li><code>odd : Void -&gt; Void</code></li>
<li><code>odd : (Unit, Bool) -&gt; (Unit, Bool)</code></li>
</ul>
<p>but the following are <strong>not</strong> well-typed instantiations of <code>odd</code>:</p>
<ul>
<li><code>odd : Bool -&gt; Void</code></li>
<li><code>odd : Unit -&gt; (Unit, Bool)</code></li>
</ul>
<p>because we <em>must</em> replace all <code>a</code>s in <code>odd</code> <em>with the same type</em>.</p>
<p>Sorry for stressing that point <em>so so much</em>, but it really and truly is very important.</p>
<h2 id="type-polymorphism">Type Polymorphism</h2>
<p>The other sort of polymorphism we need to discuss is “type polymorphism”, which is really just the same idea as value polymorphism, except in a different place. Behold:</p>
<pre><code>type Either a b = Left  a
                | Right b</code></pre>
<p>This should be read as “<code>Either</code> is a <strong>type constructor</strong> which takes two types, <code>a</code> and <code>b</code>, both polymorphic. The values of <code>Either a b</code> are either tagged with a <code>Left</code> if they are an <code>a</code>, or with a <code>Right</code> if they are a <code>b</code>.”</p>
<p>Quite a mouthful, but this is still just the same idea. We call <code>Either</code> a <em>type constructor</em> because it must be <em>given</em> types before it “gives you back” a type. What does that mean? That means that <code>Either</code> <em>is not</em> a type by itself, but <code>Either Unit Bool</code> <em>is</em> a type.</p>
<p>You can thin of each type variable on the left of a type equality as being a “hole”, which need to be plugged before you can do anything useful with the type constructor. Type constructors follow the same rules as value-polymorphism – you have to replace a type variable with the same type everywhere. You get the spiel by now, so I’ll stop lecturing you on it.</p>
<p>A point to notice is that anything after the type name, but to the left of the equals sign in a type definition <em>must be</em> a type variable. What does that mean? It means that it’s meaningless to say things like <code>type Bad Unit = What</code>. <code>Unit</code> is a <em>type</em>, not a <em>type variable</em>, so it has no meaning to be put on the left side of the equals sign. Again, common-sense stuff, but it bears mentioning.</p>
<p>We’ll keep this <code>Either a b</code> thing around from here on out, it turns out that all sum types can be generated by nesting <code>Either a b</code> inside of itself and instantiating the type variables with whatever you please. In a sense, <code>Either a b</code> is the “universal” sum type, because it allows us to do this.</p>
<p><strong>Point of order:</strong> If you’re filling out an <code>Either a b</code>, and you want to fill the first type variable itself with <code>Either a b</code>, now you have something of the form <code>Either (Either a b) c</code>, <strong>not</strong> <code>Either (Either a b) b</code>. The two eithers get <em>different</em> type variables. You can avoid this problem if you replace all of the type variables in a type constructor at the same time, or by just remembering this fact. Type variables only need to be consistent <em>within a single instance of looking at a type constructor</em>, not when composing types together.</p>
<p>You might be wondering now if there’s a “universal” product type, and indeed, there is. We call it <code>(a, b)</code>, where – you guessed it – <code>a</code> and <code>b</code> are both type variables.</p>
<h2 id="doing-some-type-foo">Doing Some Type-Foo</h2>
<p>Now that we’re equipped with polymorphic types, we are capable of defining a few types which will make our lives much easier. The only one we’ll look at today is the <code>Maybe a</code> type, defined like this:</p>
<pre><code>type Maybe a = Just a
             | Nothing</code></pre>
<p>“<em>What</em> is this crazy thing?” you are probably asking yourself. What indeed? <code>Maybe a</code> can be thought of as “an <code>a</code> which <em>may or may not</em> be there.” Consider the following values of <code>Maybe Bool</code>:</p>
<ul>
<li><code>Just On  : Maybe Bool</code></li>
<li><code>Just Off : Maybe Bool</code></li>
<li><code>Nothing  : Maybe Bool</code></li>
</ul>
<p>The <code>Just</code> tag tells us that we do, in fact, have a <code>Bool</code> hiding inside of our <code>Maybe Bool</code>. However, if instead we have a <code>Nothing</code> we know that we do <em>not</em> have a <code>Bool</code> (because there is nowhere to put it, all we have is <code>Nothing</code>!).</p>
<p>But, why is this thing useful? And finally, for the first time in this book, I can say “it actually is!” Finally! Remember, when we were defining our <code>Mem</code> machine:</p>
<p><img src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;%0A&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;%0A    &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;300.0000&quot; stroke-opacity=&quot;1&quot; viewBox=&quot;0 0 624 300&quot; font-size=&quot;1&quot; width=&quot;624.0000&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; stroke=&quot;rgb(0,0,0)&quot; version=&quot;1.1&quot;&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,496.6154,141.1765)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 442.3167,162.8959 h 54.2986 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;32.57918552036199px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,344.5792,162.8959)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Mem&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,420.5973,162.8959)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,268.5611,244.3439)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;D&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,268.5611,190.0452)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,268.5611,135.7466)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;G&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,268.5611,81.4480)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;RW&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 442.3167,52.9412 l -0.0000,219.9095 h -195.4751 l -0.0000,-219.9095 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 192.5430,244.3439 h 54.2986 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,192.5430,222.6244)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:d&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 138.2443,244.3439 h 54.2986 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;54.29864253393665px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,138.2443,244.6697)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 192.5430,190.0452 h 54.2986 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;21.71945701357466px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,192.5430,168.3258)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 138.2443,190.0452 h 54.2986 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;54.29864253393665px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,138.2443,190.3710)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 127.3846,135.7466 h 119.4570 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.425812461886411&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 127.3846,81.4480 h 119.4570 &quot;/&gt;&lt;/g&gt;&lt;/svg&gt;" id="mem" class="circuit"></p>
<p>we wanted to be able to choose between <code>R</code>eading and <code>W</code>riting, so we needed a wire for that. But we also only wanted this machine to output the value at its <code>D</code>estination if we wanted to read things. We solved this problem by adding a <code>G</code>o wire, whose only job it was was to tell us when to actually do something.</p>
<p>If we had <code>Maybe a</code> available to us back then, we could have gotten rid of <code>G</code> entirely, and instead just made <code>RW : Maybe Bool</code>, where a value of <code>Nothing</code> represented the fact that we didn’t want to <em>read or write</em>. That’s exactly the semantics we wanted, but we didn’t have a great way to do it, so we did something inelegant and cheated by adding that <code>G</code> wire in.</p>
<p><img src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;%0A&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;%0A    &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;300.0000&quot; stroke-opacity=&quot;1&quot; viewBox=&quot;0 0 624 300&quot; font-size=&quot;1&quot; width=&quot;624.0000&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; stroke=&quot;rgb(0,0,0)&quot; version=&quot;1.1&quot;&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,546.4828,144.8276)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 477.5172,172.4138 h 68.9655 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;41.37931034482759px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,353.3793,172.4138)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Mem&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,449.9310,172.4138)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,256.8276,241.3793)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;D&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,256.8276,172.4138)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,256.8276,103.4483)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;RW&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 477.5172,79.3103 l -0.0000,186.2069 h -248.2759 l -0.0000,-186.2069 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 160.2759,241.3793 h 68.9655 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,160.2759,213.7931)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:d&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 91.3103,241.3793 h 68.9655 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;68.96551724137932px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,91.3103,241.7931)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 160.2759,172.4138 h 68.9655 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,160.2759,144.8276)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 91.3103,172.4138 h 68.9655 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;68.96551724137932px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,91.3103,172.8276)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 160.2759,103.4483 h 68.9655 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.58620689655173px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,160.2759,75.8621)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;:Maybe 1&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 91.3103,103.4483 h 68.9655 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;68.96551724137932px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.606881752188767&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,91.3103,103.8621)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;/svg&gt;" id="maybemem" class="circuit"></p>
<p>(where, of course, <code>:1</code> is the multiwire annotation for a single wire – ie. it is just <code>Bool</code> in disguise.)</p>
<p>Perhaps now you see why all of this type stuff might be useful – it allows us to specify <em>more exact</em> and, perhaps more importantly, <em>more elegant</em> semantics for the tools we’re trying to build.</p>
<h2 id="something-more-natural">Something More Natural</h2>
<p>Before we conclude this chapter, there’s one more interesting type we should look at before getting back to our humdrum task of building a device capable of computing for us.</p>
<p>One type that is conspicuously missing from our pantheon is that of <em>numbers</em>. Sure, we can kind of cheat by representing a binary number in terms of a product type with lots of <code>Bool</code>s, but that is inelegant, and worse, has a “largest number” representable (eg. the largest number you can represent with <code>(Bool, Bool)</code> is 3).</p>
<p>No, we want something that is closer to the numbers that we work with everyday, not some well-argued thing that “a bunch of wires beside one another is just as good as having numbers.” We want real numbers, if for no other reason than to feel impressed with ourselves for having done it. As an added bonus, the construction of numbers is actually quite interesting. Without further ado:</p>
<pre><code>type Nat = Zero
         | S Nat</code></pre>
<p>Such a type is called <code>Nat</code> because it is equivalent to the <strong>natural numbers</strong>, which is to say, the numbers that you can count with. 0, 1, 2, 3, and so on. Notably, there are no “negative” natural numbers, nor are there any “fractional” natural numbers. That means <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 0.662em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.187em; height: 0px; font-size: 52%;"><span style="position: absolute; clip: rect(1.449em, 1001.1em, 3.022em, -1000.04em); top: -2.485em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mo" id="MathJax-Span-3" style="font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular;">5</span></span><span style="display: inline-block; width: 0px; height: 2.498em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.133em; border-left: 0px solid; width: 0px; height: 0.549em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-1">-5</script></span>, <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;0.3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-5" style="width: 0.662em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.318em; height: 0px; font-size: 52%;"><span style="position: absolute; clip: rect(1.449em, 1001.23em, 2.891em, -1000.04em); top: -2.485em; left: 0em;"><span class="mrow" id="MathJax-Span-6"><span class="mn" id="MathJax-Span-7" style="font-family: STIXGeneral-Regular;">0.3</span></span><span style="display: inline-block; width: 0px; height: 2.498em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.065em; border-left: 0px solid; width: 0px; height: 0.481em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.3</mn></math></span></span><script type="math/tex" id="MathJax-Element-2">0.3</script></span> and <span class="math inline"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mfrac&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8" style="width: 0.531em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.924em; height: 0px; font-size: 52%;"><span style="position: absolute; clip: rect(0.531em, 1000.97em, 3.416em, -1000.04em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-9"><span class="mfrac" id="MathJax-Span-10"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px; margin-right: 0.138em; margin-left: 0.138em;"><span style="position: absolute; clip: rect(3.022em, 1000.44em, 4.465em, -1000.04em); top: -4.583em; left: 50%; margin-left: -0.256em;"><span class="mn" id="MathJax-Span-11" style="font-size: 104.9%; font-family: STIXGeneral-Regular;">8</span><span style="display: inline-block; width: 0px; height: 4.071em;"></span></span><span style="position: absolute; clip: rect(3.022em, 1000.44em, 4.465em, -1000.04em); top: -3.271em; left: 50%; margin-left: -0.256em;"><span class="mn" id="MathJax-Span-12" style="font-size: 104.9%; font-family: STIXGeneral-Regular;">7</span><span style="display: inline-block; width: 0px; height: 4.071em;"></span></span><span style="position: absolute; clip: rect(0.662em, 1000.71em, 1.58em, -1000.04em); top: -1.436em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.662em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.187em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.236em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.474em; border-left: 0px solid; width: 0px; height: 1.231em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>8</mn><mn>7</mn></mfrac></math></span></span><script type="math/tex" id="MathJax-Element-3">\frac{8}{7}</script></span> are all out. Anything else though, anything else is fair game.</p>
<p>But how does this <code>Nat</code> thing work? Well, a natural number is either <code>Zero</code>, or it is the <code>S</code>uccessor to some other <code>Nat</code>ural number. Let’s look at a few values of <code>Nat</code> so you get the hang of out:</p>
<ul>
<li>$0 = $ <code>Zero   : Nat</code></li>
<li>$1 = $ <code>S       Zero   : Nat</code></li>
<li>$2 = $ <code>S    (S Zero)  : Nat</code></li>
<li>$3 = $ <code>S (S (S Zero)) : Nat</code></li>
</ul>
<p>In general, if you want to represent a number as a <code>Nat</code>, you just need to stick that many <code>S</code>s in front of a <code>Zero</code>, and make sure you wrap your parentheses properly. If you want to decipher what number a value of type <code>Nat</code> actually refers to, you just need to count how many <code>S</code>s make it up.</p>
<p>As a matter of fact, this <code>Nat</code> type is <em>exactly equivalent</em> to how counting works. Such a fact was noticed by a guy named Giuseppe Peano, and so sometimes you’ll see <code>Nat</code> referred to as <strong>peano arithmetic</strong>. Neat, right?</p>
<p>However, needing to count a potentially huge number of <code>S</code>s in order to determine what number we’re describing sounds like it would get pretty tedious pretty quickly. And so, as a convention, we allow ourselves to write a number in its natural decimal form, and just say that that numeral is just a short-hand for the <em>peano</em> construction of the same number.</p>
<p>All of this boils down to the fact that we can say <code>7 : Nat</code> as being completely equivalent to <code>S (S (S (S (S (S (S Zero)))))) : Nat</code>. It’s a good convention, and one that we should all celebrate.</p>
<p>In the next chapter, we’ll <em>actually</em> get back to business towards building our computer. And we’ll bring our fancy new types along to help.</p>
<hr>
<h2 id="exercises">Exercises</h2>
<ol style="list-style-type: decimal">
<li>How many values are there of type <code>Maybe (Bool, Either Bool Bool)</code>?</li>
<li>Is <code>x : Bool -&gt; Bool -&gt; Bool -&gt; Unit</code> a valid instance of the polymorphic machine <code>x : a -&gt; b -&gt; a -&gt; c</code>?</li>
<li>Write out the peano representation of <code>Just 4 : Maybe Nat</code>. Don’t forget the <code>Maybe</code> part!</li>
<li>Define your own type that has exactly 5 values. Use only <code>Bool</code>, <code>Either a b</code> and <code>Maybe a</code>.</li>
</ol>
</div>
<p class="meta">
    
    <span class="prev">
        <a href="https://reasonablypolymorphic.com/book/more-types">←</a>
    </span>
    
    
    <span class="next">
        <a href="https://reasonablypolymorphic.com/book/back-in-business">→</a>
    </span>
    
</p>
</article>

    <nav>
    <h1><a href="https://reasonablypolymorphic.com/">REASONABLY<br>POLYMORPHIC</a></h1>

    <p> Hi there. I'm <strong>Sandy Maguire</strong>. I like improving life and
    making cool things.</p>

    <p>If you want to get in touch, I'd love to hear from you! Send me an email;
    my name is <tt>sandy</tt> and this is my website.</p>

    <h2>THINGS I MAKE</h2>
    <ul>
        <li>Code on <a href="http://github.com/isovector">github</a></li>
        <li>Essays <a href="https://reasonablypolymorphic.com/blog/archives/">archive</a></li>
        <li>Book <a href="https://reasonablypolymorphic.com/book/preface">archive</a></li>
    </ul>

    <h2>WHAT I'M DOING</h2>
    <ul>
        <li>Music at <a href="http://last.fm/user/Paamayim">last.fm</a></li>
        <li>Books at <a href="https://www.goodreads.com/review/list/14945161-sandy-maguire?shelf=currently-reading">goodreads</a></li>
        <li>Papers at <a href="https://www.mendeley.com/groups/7295141/read/papers/">mendeley</a></li>
    </ul>

    <p>
    © 2011-2016 Sandy Maguire
    </p>
</nav>

</div>
    


<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: STIXSizeOneSym, sans-serif;"></div></div></body></html>