<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0060)https://reasonablypolymorphic.com/book/back-in-business.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <title>Back in Business and Better than Ever :: Reasonably Polymorphic</title>
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <link href="https://reasonablypolymorphic.com/atom.xml" rel="alternate" title="Reasonably Polymorphic - Atom" type="application/atom+xml">
        <link href="https://reasonablypolymorphic.com/feed.rss" rel="alternate" title="Reasonably Polymorphic - RSS" type="application/rss+xml">

        <link href="./Back in Business and Better than Ever __ Reasonably Polymorphic_files/css" rel="stylesheet" type="text/css">
        <link href="./Back in Business and Better than Ever __ Reasonably Polymorphic_files/style.css" type="text/css" rel="stylesheet">
        <link href="./Back in Business and Better than Ever __ Reasonably Polymorphic_files/syntax.css" type="text/css" rel="stylesheet">

        <script async="" src="./Back in Business and Better than Ever __ Reasonably Polymorphic_files/analytics.js"></script><script type="text/javascript" src="./Back in Business and Better than Ever __ Reasonably Polymorphic_files/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="./Back in Business and Better than Ever __ Reasonably Polymorphic_files/baseline.js"></script>
        <script type="text/x-mathjax-config;executed=true">
            MathJax.Hub.Config({
                    "HTML-CSS": {
                        scale: 50
                    },
  TeX: {extensions: [ "AMSmath.js"
                    , "AMSsymbols.js"
                    , "color.js"
                    , "http://sonoisa.github.io/xyjax_ext/xypic.js"
                    ]}
            });
        </script>
        <script src="./Back in Business and Better than Ever __ Reasonably Polymorphic_files/MathJax.js" id=""></script>
          <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76834556-1', 'auto');
  ga('send', 'pageview');
  </script>

        <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
        <body><div id="MathJax_Message" style="display: none;"></div>

<div class="column">
    <article>
<header>
    <h1><a href="https://reasonablypolymorphic.com/book/back-in-business">Back in Business and Better than Ever</a></h1>
</header>
<p class="meta">
    
    <span class="prev">
        <a href="https://reasonablypolymorphic.com/book/polymorphism">←</a>
    </span>
    
    
    <span class="next">
        <a href="https://reasonablypolymorphic.com/book/infectiousness-of-reality">→</a>
    </span>
    
    <time>November 17, 2016</time>
    
        <span class="tags">
        
        </span>
    
</p>
<div class="content">
    <p>In the last few chapters, we’ve been building something I like to call “higher-order machinery” – things that are not machines themselves, but are useful for building machines. The majority of our higher-order machinery took the form of developing our <em>type system</em> – a framework we’ve built in order to describe the interfaces to our machines, and to help us reason about how we can connect machines together. As we saw in the last chapter, having a developed type system also afforded us the capability to make <em>more semantically meaningful</em> machines.</p>
<p>We’ve taken quite a detour, but it’s finally time to get back to our stated task at hand: building a computer. Before we get started in earnest, let’s begin by moving all of our existing machinery from machine diagrams to symbolic computations. We’ll quickly work our way back through the material we’ve already covered. Try to follow along with each construction, and if you feel up to the challenge, try your hand at converting one on your own.</p>
<h2 id="simple-adding">Simple Adding</h2>
<p>The first interesting machine we made was <code>Add</code>, a machine which added three wires together, and output both the “sum” and the “carry” of those three wires.</p>
<pre><code>add1 : Bool -&gt; Bool -&gt; Bool -&gt; (Bool, Bool)
add1 a b cin = (sum, carry)
  where
    sum   = xor (xor a b) cin
    carry = or (or (and a b)
                   (and a cin))
               (and b cin)</code></pre>
<p>How much easier was that than our machine diagrams? It takes a little chasing to keep everything in your head, but you have to admit it certainly takes up less space.</p>
<p>I pulled a fast one on you there – did you see it? I said that <code>add1 a b c = (sum, carry)</code>, but what are <code>sum</code> and <code>carry</code>? Keep looking! They’re defined right afterwards. This convention bears a little explaining, so I’ll get to it. But I promise to keep it short.</p>
<p>In order to simplify our symbolic computations, we can abstract away complicated patterns and give them a more meaningful name. The way we do this is by writing equality definitions after the word <code>where</code>. Everything in this “where block” has access to the function’s bindings (in this case <code>a</code>, <code>b</code>, and <code>cin</code>), so all of the <code>a</code>s (for example) refer to the <em>same</em> input value coming into the <code>add1</code> machine.</p>
<p>The <code>carry</code> expression, however, is a bit of a doozy. Whenever possible, I will attempt to line up sub-expressions so that it’s clear what’s going on without needing to count parentheses. This extra spacing has absolutely no meaning in the symbolic computation whatsoever, it’s entirely to aid human comprehension. An interesting question is a “who would be comprehending this, if not humans?” and the answer, of course, is that before the end of this book, we will have “closed the loop” and have written a computer program capable of “understanding” the exact symbolic computations that make it up. But we’re not there yet.</p>
<h2 id="adding-nybbles">Adding Nybbles</h2>
<p>Let’s move forwards and work on migrating our <code>Add4</code> machine to a symbolic computation. Recall that <code>Add4</code> was four <code>Add</code> machines running in “parallel”, each one receiving the “carry” output from the previous machine.</p>
<pre><code>type Nybble = (Bool, Bool, Bool, Bool)

add4 : Nybble -&gt; Nybble -&gt; Nybble
add4 (a1, a2, a3, a4) (b1, b2, b3, b4) = (s1, s2, s3, s4)
  where
    (s1, c1) = add1 a1 b1 Off
    (s2, c2) = add1 a2 b2 c1
    (s3, c3) = add1 a3 b3 c2
    (s4, c4) = add1 a4 b4 c3</code></pre>
<p>Before we start with the analysis, let’s take a look at a little more notation first. We have this definition in our “where block”: <code>(s1, c1) = add1 a1 b1 Off</code>, which uses a technique we’ll call <strong>destructuring</strong> or <strong>pattern matching</strong>. <em>Destructuring</em> makes bindings to “smaller pieces” of a large value. Because the output of each invocation of <code>add1</code> is a <em>product type</em>, we somehow need to pull out the individual <code>Bool</code>s inside of that type. This is exactly what <em>destructuring</em> does.</p>
<p>We’re also pulling apart the products of <code>Bool</code>s as our inputs to <code>add4</code>, because we’ve said that <code>add4</code> takes <code>Nybble</code>s, and that <code>type Nybble = (Bool, Bool, Bool, Bool)</code>. So the way you should read all of this is that <code>add4</code> tears apart the individual <code>Bool</code>s it’s given, pairs each of them up, moves the “carries” between <code>add1</code> machines, and then gives you back a product of the “sums”.</p>
<p>Notice how closely all of this logic reflects the original machine diagram:</p>
<p><img src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;%0A&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;%0A    &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;300.0000&quot; stroke-opacity=&quot;1&quot; viewBox=&quot;0 0 624 300&quot; font-size=&quot;1&quot; width=&quot;624.0000&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; stroke=&quot;rgb(0,0,0)&quot; version=&quot;1.1&quot;&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 367.3616,270.0748 c 0.0000,-2.7545 -2.2330,-4.9875 -4.9875 -4.9875c -2.7545,-0.0000 -4.9875,2.2330 -4.9875 4.9875c -0.0000,2.7545 2.2330,4.9875 4.9875 4.9875c 2.7545,0.0000 4.9875,-2.2330 4.9875 -4.9875Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,62.3441 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 476.0898,32.4190 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,47.3815 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,69.8254 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;8.977556109725686px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,419.2319,54.8628)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Add&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,62.3441)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;S&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,47.3815)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cout&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,69.8254)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cin&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,54.8628)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;B&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,39.9002)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,34.6633 l -0.0000,40.3990 h -83.7905 l -0.0000,-40.3990 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,69.8254 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,54.8628 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,39.9002 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,122.4439 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 476.0898,92.5187 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,107.4813 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,129.9252 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;8.977556109725686px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,419.2319,114.9626)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Add&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,122.4439)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;S&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,107.4813)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cout&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,129.9252)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cin&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,114.9626)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;B&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,100.0000)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,94.7631 l -0.0000,40.3990 h -83.7905 l -0.0000,-40.3990 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,129.9252 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,114.9626 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,100.0000 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,182.5436 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 476.0898,152.6185 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,167.5810 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,190.0249 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;8.977556109725686px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,419.2319,175.0623)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Add&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,182.5436)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;S&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,167.5810)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cout&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,190.0249)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cin&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,175.0623)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;B&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,160.0998)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,154.8628 l -0.0000,40.3990 h -83.7905 l -0.0000,-40.3990 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,190.0249 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,175.0623 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,160.0998 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,242.6434 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 476.0898,212.7182 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,227.6808 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,250.1247 l 0.0000,14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;8.977556109725686px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,419.2319,235.1621)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Add&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,242.6434)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;S&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,455.1421,227.6808)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cout&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,250.1247)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cin&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,235.1621)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;B&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;5.985037406483792px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,383.3217,220.1995)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 461.1272,214.9626 l -0.0000,40.3990 h -83.7905 l -0.0000,-40.3990 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,250.1247 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,235.1621 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 362.3741,220.1995 h 14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,214.4638 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,204.4888 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,194.5137 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,184.5387 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,84.7880 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,74.8130 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,64.8379 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 112.9975,54.8628 h 49.8753 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,84.7880 l 199.5012,135.4115 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,214.4638 l 199.5012,20.6983 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,74.8130 l 199.5012,85.2868 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,204.4888 l 199.5012,-29.4264 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,64.8379 l 199.5012,35.1621 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,194.5137 l 199.5012,-79.5511 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,54.8628 l 199.5012,-14.9626 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 162.8728,184.5387 l 199.5012,-129.6758 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 476.0898,212.7182 l -113.7157,-7.7307 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 476.0898,152.6185 l -113.7157,-7.7307 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.4662283029627339&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 476.0898,92.5187 l -113.7157,-7.7307 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;/svg&gt;" id="nybble_add" class="circuit"></p>
<p>However, if you’ll recall, the complexity of this diagram the first time around gave us the willies and was the inspiration behind our developing of the multiwire concept.</p>
<p>Indeed, our symbolic computation for <code>add4</code> is itself pretty hairy, and <em>very</em> mechanical. You can imagine we might want to make an <code>add8</code>, and while there’s nothing <em>difficult</em> about constructing such a machine, it would certainly be tedious and error-prone.</p>
<h2 id="types-to-the-rescue">Types to the Rescue</h2>
<p>We solved this problem the first time around by using multiwires, and (although we didn’t know it then) using polymorphism. We said that the semantics of two multiwires with the same annotation (ie. two values with the same type) being expanded into a single machine would “make a copy” of the machine for each wire in the multiwire. To refresh your memory, we drew this diagram:</p>
<p><img src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;%0A&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;%0A    &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;300.0000&quot; stroke-opacity=&quot;1&quot; viewBox=&quot;0 0 624 300&quot; font-size=&quot;1&quot; width=&quot;624.0000&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; stroke=&quot;rgb(0,0,0)&quot; version=&quot;1.1&quot;&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.69230769230769px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,312.0000,276.9231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;AddN&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;4.043798671089808&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 538.3846,230.7692 l -0.0000,-207.6923 h -452.7692 l -0.0000,207.6923 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 515.3077,103.8462 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;text-before-edge&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,515.3077,76.1538)&quot; stroke=&quot;none&quot; text-anchor=&quot;start&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 469.1538,103.8462 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,469.1538,104.1231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 506.0769,150.0000 l 0.0000,69.2308 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 459.9231,150.0000 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,173.0769 l 0.0000,46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.69230769230769px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,330.6923,126.9231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Add&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,441.4615,150.0000)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cout&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,441.4615,103.8462)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;S&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,219.9231,173.0769)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cin&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,219.9231,126.9231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;B&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,219.9231,80.7692)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 459.9231,64.6154 l -0.0000,124.6154 h -258.4615 l -0.0000,-124.6154 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,173.0769 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,189.4615,127.2000)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;{&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,126.9231 h 34.6154 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,189.4615,81.0462)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;{&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,80.7692 h 34.6154 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 108.6923,126.9231 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;text-before-edge&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,108.6923,99.2308)&quot; stroke=&quot;none&quot; text-anchor=&quot;start&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 62.5385,126.9231 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,62.5385,127.2000)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 108.6923,80.7692 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;text-before-edge&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,108.6923,53.0769)&quot; stroke=&quot;none&quot; text-anchor=&quot;start&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 62.5385,80.7692 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,62.5385,81.0462)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,219.2308 h 351.2308 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;/svg&gt;" id="mw_add_four" class="circuit"></p>
<p>So how can we do this with a symbolic computation? Well, polymorphism is the first thing that comes to mind. It solved our problem last time, so it’s a reasonable thing to try here.</p>
<p>Unfortunately, there’s a problem, and that’s that our new type system is stronger than the notion of annotations on multiwires. A “polymorphic” multiwire was a multiwire where we didn’t care how many wires were in it. However, as we’ve seen, there are more types than just <code>Bool</code> and products of <code>Bool</code>, so when we say “a polymorphic type”, we have <em>far more possibilities</em> than we ever did for “polymorphic multiwires”.</p>
<p>In other words <code>Maybe Nat</code> is a valid instance for a type variable, but <code>Maybe Nat</code> is <em>not</em> a valid multiwire.</p>
<p>At the end of the day, what this means is that using any <em>particular</em> type is too specific in order to define an <code>add</code> machine that works for any size of inputs, but a <em>polymorphic</em> type is too general. What we really want is some <em>restriction</em> on <em>which</em> polymorphic types we’re allowed to use.</p>
<p>Or, maybe what we want is a polymorphic type which describes exactly what we need. Let’s take a look at what we can come up with.</p>
<pre><code>type List a = Nil
            | Cons a (List a)</code></pre>
<p>How should this be interpreted? Well, we can read it like so:</p>
<blockquote>
<p><code>List a</code> is a type, polymorphic in <code>a</code>, whose values are either <code>Nil</code> (nothing; an empty list) or a <code>Cons</code>truction of an <code>a</code> combined with some other <code>List a</code>.</p>
</blockquote>
<p>Similarly to <code>Nat</code>, <code>List a</code> is defined <em>in terms of itself</em>. Let’s look at a few values of type <code>List Bool</code> to get a feel for this new type of ours.</p>
<ul>
<li><code>Nil : List Bool</code></li>
<li><code>Cons On  Nil : List Bool</code></li>
<li><code>Cons Off Nil : List Bool</code></li>
<li><code>Cons On  (Cons On  Nil) : List Bool</code></li>
<li><code>Cons On  (Cons Off Nil) : List Bool</code></li>
<li><code>Cons Off (Cons On  Nil) : List Bool</code></li>
<li><code>Cons Off (Cons Off Nil) : List Bool</code></li>
<li>… and so on</li>
</ul>
<p>At its essence, a <code>List a</code> is nothing but some number of <code>a</code>s glued together into a product. The “some number” part of that description is the important part – this is exactly the semantic we want for our <code>add</code> machine!</p>
<h2 id="adding-lists">Adding Lists</h2>
<p>We now have all the tools necessary for describing <code>add</code>. We’ll start with its type annotation:</p>
<pre><code>add : List Bool -&gt; List Bool -&gt; List Bool</code></pre>
<p>This is very reminiscent of <code>add1 : Bool -&gt; Bool -&gt; Bool</code> and <code>add4 : Nybble -&gt; Nybble -&gt; Nybble</code>, which is a good sign. Based on syntactical evidence alone, so far we have yet to go wrong. We’ll continue. What we want is a way to “peel” off the first element in each list, and use those values as inputs to <code>add1</code>.</p>
<pre><code>add : List Bool -&gt; List Bool -&gt; List Bool
add (Cons a as) (Cons b bs) = something</code></pre>
<p>We use pattern matching (aka. destructuring) to pull off the <em>head</em> (first thing) of each of our lists. However, once we have taken off the heads, we are left with the “tails” – the remainder of the things in the list, although this might be <code>Nil</code> if the list only had one element in it to begin with. We bind the <em>heads</em> of the lists to <code>a</code> and <code>b</code>, and the <em>tails</em> of the lists to <code>as</code> and <code>bs</code>, which should be pronounced like the plurals of “a” and “b”.</p>
<p>We’d like to pass <code>a</code> an <code>b</code> directly into <code>add1</code>, but there’s a problem, and that’s that we don’t yet have a <code>cin</code>. Unfortunately, we don’t have an obvious place to pull one in from, so we cheat and make a lemma machine, one that takes a <code>cin</code> as input:</p>
<pre><code>add' : List Bool -&gt; List Bool -&gt; Bool -&gt; List Bool
add' (Cons a as) (Cons b bs) cin = something
  where
    (sum, carry) = add1 a b cin</code></pre>
<p>We’d now like to output <code>add1 a b cin</code>, but we can’t! Why not? Because it doesn’t have the correct type! We want to output a <code>List Bool</code>, but the only <code>List Bool</code>s that we have are <code>as</code> and <code>bs</code>, and we haven’t <em>actually done anything</em> with those, so they are unlikely to be the “correct” thing to give back.</p>
<p>Looking at our old machine diagram again provides a clue for what to do:</p>
<p><img src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;%0A&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;%0A    &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;300.0000&quot; stroke-opacity=&quot;1&quot; viewBox=&quot;0 0 624 300&quot; font-size=&quot;1&quot; width=&quot;624.0000&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; stroke=&quot;rgb(0,0,0)&quot; version=&quot;1.1&quot;&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.69230769230769px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,312.0000,276.9231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;AddN&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;4.043798671089808&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 538.3846,230.7692 l -0.0000,-207.6923 h -452.7692 l -0.0000,207.6923 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 515.3077,103.8462 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;text-before-edge&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,515.3077,76.1538)&quot; stroke=&quot;none&quot; text-anchor=&quot;start&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 469.1538,103.8462 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,469.1538,104.1231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 506.0769,150.0000 l 0.0000,69.2308 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 459.9231,150.0000 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,173.0769 l 0.0000,46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;27.69230769230769px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,330.6923,126.9231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Add&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,441.4615,150.0000)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cout&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,441.4615,103.8462)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;S&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,219.9231,173.0769)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;Cin&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,219.9231,126.9231)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;B&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,219.9231,80.7692)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;A&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 459.9231,64.6154 l -0.0000,124.6154 h -258.4615 l -0.0000,-124.6154 Z&quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,173.0769 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,189.4615,127.2000)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;{&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,126.9231 h 34.6154 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,189.4615,81.0462)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;{&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,80.7692 h 34.6154 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 108.6923,126.9231 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;text-before-edge&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,108.6923,99.2308)&quot; stroke=&quot;none&quot; text-anchor=&quot;start&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 62.5385,126.9231 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,62.5385,127.2000)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 108.6923,80.7692 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;18.461538461538463px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;text-before-edge&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,108.6923,53.0769)&quot; stroke=&quot;none&quot; text-anchor=&quot;start&quot;&gt;:n&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 62.5385,80.7692 h 46.1538 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; font-size=&quot;46.15384615384615px&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;text dominant-baseline=&quot;middle&quot; transform=&quot;matrix(1.0000,0.0000,0.0000,1.0000,62.5385,81.0462)&quot; stroke=&quot;none&quot; text-anchor=&quot;middle&quot;&gt;}&lt;/text&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;0.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;1.6175194684359233&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;path d=&quot;M 154.8462,219.2308 h 351.2308 &quot;/&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;g stroke-linejoin=&quot;miter&quot; stroke-opacity=&quot;1.0&quot; fill-opacity=&quot;1.0&quot; stroke=&quot;rgb(0,0,0)&quot; stroke-width=&quot;0.0&quot; fill=&quot;rgb(0,0,0)&quot; stroke-linecap=&quot;butt&quot; stroke-miterlimit=&quot;10.0&quot;&gt;&lt;/g&gt;&lt;/svg&gt;" id="mw_add_four" class="circuit"></p>
<p>You’ll notice that there is a wire connecting the <em>output</em> of <code>Add</code> to the <em>input</em> of <code>Add</code>. If we look back at the tools we have available to us in <code>add'</code> to produce a <code>List Bool</code>, we notice that <code>add'</code> <em>itself</em> outputs a <code>List Bool</code>. And so that’s where we’re going to get ours from.</p>
<pre><code>add' : List Bool -&gt; List Bool -&gt; Bool -&gt; List Bool
add' (Cons a as) (Cons b bs) cin = Cons sum (add' as bs carry)
  where
    (sum, carry) = add1 a b cin</code></pre>
<p><em>Hold on. <strong>What?</strong></em> Well, we compute <code>add1 a b cin</code>, and then take the <code>sum</code> of that, and <code>Cons</code>truct it with the result of calling <code>add' as bs carry</code>. This has the effect of “peeling off” one <code>Bool</code> at a time from our <code>List Bool</code>s. It computes the <code>sum</code> and <code>carry</code> of adding them together, uses the <code>sum</code> as a part of the output <code>List Bool</code>, and uses the <code>carry</code> as the <code>cin</code> for the next time around.</p>
<p>The clever reader will be wondering “how does this thing ever stop?” The answer of course is “when we run out of inputs”, but the clever reader is correct – our solution so far doesn’t yet cover that. Recall that when we make a function table, we need to describe the output <em>for every possible input</em>. But we haven’t yet described what happens if you have an empty list. In that case, obviously we won’t have one of the wires we need to compute an <code>add1</code>, so the only meaningful <code>List Bool</code> we can give back is <code>Nil</code>. Capiche?</p>
<p>Our final solution, then is:</p>
<pre><code>add' : List Bool -&gt; List Bool -&gt; Bool -&gt; List Bool
add' (Cons a as) (Cons b bs) cin = Cons sum (add' as bs carry)
  where
    (sum, carry) = add1 a b cin
add' _ _ _ = Nil</code></pre>
<p>This final line full of underscore says “for any other input, we just want to give back <code>Nil</code>.” Remember that our original <code>Add4</code> machine simply “dropped” the final carry, and we decide to do that here as well. It’s probably poor mathematics, but we’re worried more about consistency right now.</p>
<p>To now tie a pretty bow around the whole thing, we remember that this <code>add'</code> machine is a lemma, and in fact what we wanted was in fact <code>add</code>. We can define <code>add</code> in terms of <code>add'</code>:</p>
<pre><code>add : List Bool -&gt; List Bool -&gt; List Bool
add as bs = add' as bs Off</code></pre>
<p>where we just supply the initial <code>cin</code> binding for <code>add'</code>.</p>
<p>It’s crazy to believe, but all of this stuff we’ve made actually works! <code>add</code> is now a <em>general purpose</em> adder – capable of computing sums of numbers arbitrarily large.</p>
<p>In the next chapter, we’ll do a few more examples of moving our machine diagram circuitry into symbolic computations.</p>
<hr>
<h2 id="exercises">Exercises</h2>
<ol style="list-style-type: decimal">
<li>Evaluate the expression <code>add (Cons On (Cons Off Nil)) (Cons On (Cons On Nil))</code> by hand to get a feel for how this construction actually works.</li>
</ol>
</div>
<p class="meta">
    
    <span class="prev">
        <a href="https://reasonablypolymorphic.com/book/polymorphism">←</a>
    </span>
    
    
    <span class="next">
        <a href="https://reasonablypolymorphic.com/book/infectiousness-of-reality">→</a>
    </span>
    
</p>
</article>

    <nav>
    <h1><a href="https://reasonablypolymorphic.com/">REASONABLY<br>POLYMORPHIC</a></h1>

    <p> Hi there. I'm <strong>Sandy Maguire</strong>. I like improving life and
    making cool things.</p>

    <p>If you want to get in touch, I'd love to hear from you! Send me an email;
    my name is <tt>sandy</tt> and this is my website.</p>

    <h2>THINGS I MAKE</h2>
    <ul>
        <li>Code on <a href="http://github.com/isovector">github</a></li>
        <li>Essays <a href="https://reasonablypolymorphic.com/blog/archives/">archive</a></li>
        <li>Book <a href="https://reasonablypolymorphic.com/book/preface">archive</a></li>
    </ul>

    <h2>WHAT I'M DOING</h2>
    <ul>
        <li>Music at <a href="http://last.fm/user/Paamayim">last.fm</a></li>
        <li>Books at <a href="https://www.goodreads.com/review/list/14945161-sandy-maguire?shelf=currently-reading">goodreads</a></li>
        <li>Papers at <a href="https://www.mendeley.com/groups/7295141/read/papers/">mendeley</a></li>
    </ul>

    <p>
    © 2011-2016 Sandy Maguire
    </p>
</nav>

</div>
    


</body></html>